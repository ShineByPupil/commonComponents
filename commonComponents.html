<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>

    <style>
      html.dark {
        background-color: #141414;
      }
      body {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        position: fixed;
        bottom: 0;
        right: 0;
      }

      mx-virtual-list {
        width: 500px;
        height: 200px;
      }
      mx-virtual-list::part(item) {
        display: flex;
        gap: 10px;
        height: 40px;
        border: 1px solid red;
      }
      mx-virtual-list::slotted(span) {
        color: red;
      }
    </style>
  </head>

  <body>
    <mx-virtual-list id="list" columns="3" gap="10">
      <template slot="item">
        <strong part="a" data-field="name"></strong>
        <span data-field="value"></span>
      </template>
    </mx-virtual-list>

    <script>
      const list = document.querySelector("#list");
      const arr = new Array(100).fill(0).map((_, i) => ({
        name: `name${i}`,
        value: `value${i}`,
      }));

      list.addEventListener("ready", () => {
        list.items = arr;

        console.log(list);
      });
    </script>

    <div class="switch">
      <label>
        主题色
        <mx-switch
          onchange="handleChange(event)"
          state-sync="switch"
        ></mx-switch>
        <mx-switch disabled onchange="handleChange(event.detail)"></mx-switch>
      </label>
    </div>

    <div class="input">
      <mx-input
        placeholder="111"
        oninput="handleInput(event.detail)"
      ></mx-input>

      <mx-input
        placeholder="111"
        oninput="handleInput(event.detail)"
        disabled
      ></mx-input>

      <mx-button disabled>禁用</mx-button>
    </div>

    <div class="button">
      <mx-button ripple onclick="handleClick()">你好</mx-button>
      <mx-button ripple type="primary" onclick="MxMessage.primary('primary')"
        >你好</mx-button
      >
      <mx-button ripple type="success" onclick="MxMessage.success('success')"
        >你好</mx-button
      >
      <mx-button ripple type="info" onclick="MxMessage.info('info')"
        >你好</mx-button
      >
      <mx-button ripple type="warning" onclick="MxMessage.warning('warning')"
        >你好</mx-button
      >
      <mx-button ripple type="danger" onclick="MxMessage.error('danger')"
        >你好</mx-button
      >
    </div>

    <div>
      <mx-button disabled>禁用</mx-button>
      <mx-button type="primary" disabled>禁用</mx-button>
      <mx-button type="success" disabled>禁用</mx-button>
      <mx-button type="info" disabled>禁用</mx-button>
      <mx-button type="warning" disabled>禁用</mx-button>
      <mx-button type="danger" disabled>禁用</mx-button>
    </div>

    <div>
      <mx-button circle ripple>
        <mx-icon type="search"></mx-icon>
      </mx-button>

      <mx-button circle disabled>
        <mx-icon type="search"></mx-icon>
      </mx-button>
    </div>

    <div class="dialog">
      <mx-button onclick="openDialog()">打开弹窗</mx-button>

      <mx-dialog id="dialog">
        <span slot="header">Tips</span>

        <span>This is a message</span>

        <mx-button slot="button-before">before</mx-button>

        <template slot="button-center">
          <mx-button>center</mx-button>
          <mx-button>center</mx-button>
        </template>

        <mx-button slot="button-after">after</mx-button>
      </mx-dialog>
    </div>

    <div class="icon">
      <mx-icon type="success"></mx-icon>
    </div>

    <div>
      <mx-radio-group
        state-sync="test"
        id="radioGroup"
        value="22"
      ></mx-radio-group>

      <br />

      <mx-radio-group state-sync="test1" value="33">
        <mx-radio label="1" value="11" disabled></mx-radio>
        <mx-radio label="2" value="22"></mx-radio>
        <mx-radio label="3" value="33"></mx-radio>
      </mx-radio-group>

      <br />

      <mx-radio-group value="33" disabled>
        <mx-radio label="1" value="11"></mx-radio>
        <mx-radio label="2" value="22"></mx-radio>
        <mx-radio label="3" value="33"></mx-radio>
      </mx-radio-group>

      <script>
        const radioGroup = document.querySelector("#radioGroup");

        setTimeout(() => {
          radioGroup.options = [
            { label: 1, value: 11 },
            { label: 2, value: 22 },
            { label: 3, value: 33 },
          ];
        }, 1000);

        setTimeout(() => {
          radioGroup.options.push({ label: 4, value: 44 });
        }, 2000);
        radioGroup.addEventListener("ready", () => {});

        radioGroup.addEventListener("change", (e) => {
          console.log(e.target.value);
        });
      </script>
    </div>

    <div class="select">
      <mx-select id="select" value="33">
        <mx-select-option label="1" value="11"></mx-select-option>
        <mx-select-option label="2" value="22"></mx-select-option>
        <mx-select-option label="3" value="33"></mx-select-option>
      </mx-select>

      <script>
        const select = document.querySelector("#select");
      </script>
    </div>
  </body>

  <script src="./commonComponents.lib.js"></script>

  <script>
    let txt = "";
    window.txt = txt;

    function handleChange(e) {
      const html = document.documentElement;

      html.classList.toggle("dark");
      console.log(e.target.value);
    }

    function handleInput(value) {
      console.log("input 事件:", value);
    }

    function handleClick() {
      console.log("handleClick:");
    }

    function openDialog() {
      document.querySelector("#dialog")?.open();
    }
  </script>
</html>
